(this["webpackJsonppokedex-calculator"]=this["webpackJsonppokedex-calculator"]||[]).push([[0],{58:function(e,n,o){},59:function(e,n,o){},60:function(e,n,o){},61:function(e,n,o){},64:function(e,n,o){},65:function(e,n,o){"use strict";o.r(n);var t,r=o(2),i=o.n(r),c=o(46),a=o.n(c),s=(o(58),o(50)),m=(o(59),o(40)),l=o(7),u=function(e){return e.pokemon_details[0].pokemon_pokedex_number},d=o(47),p=o(77),k=Object(p.a)(t||(t=Object(d.a)(["\n  query getOriginalDexPokemonByGeneration(\n    $generation_id: Int!\n    $dex_name_like: String!\n    $offset: Int\n    $limit: Int\n  ) {\n    pokemon: pokemon_v2_pokemonspecies(\n      where: {\n        pokemon_v2_pokemondexnumbers: {\n          pokemon_v2_pokedex: {\n            pokemon_v2_region: { id: { _eq: $generation_id } }\n            name: { _like: $dex_name_like }\n          }\n        }\n      }\n      order_by: { id: asc }\n      offset: $offset\n      limit: $limit\n    ) {\n      ...pokedex\n      ...evolution_requirements\n      ...evolution_chain\n    }\n  }\n\n  fragment pokedex on pokemon_v2_pokemonspecies {\n    pokemon_name: name\n    pokemon_details: pokemon_v2_pokemondexnumbers(\n      where: {\n        pokemon_v2_pokedex: {\n          pokemon_v2_region: { id: { _eq: $generation_id } }\n          name: { _like: $dex_name_like }\n        }\n      }\n    ) {\n      pokemon_pokedex_number: pokedex_number\n      pokedex_information: pokemon_v2_pokedex {\n        pokedex_name: name\n      }\n    }\n  }\n\n  fragment evolution_requirements on pokemon_v2_pokemonspecies {\n    evolution_requirements: pokemon_v2_pokemonevolutions {\n      min_evolution_level: min_level\n      min_affection\n      min_beauty\n      min_happiness\n      required_gender: pokemon_v2_gender {\n        name\n      }\n      required_known_move: pokemon_v2_move {\n        name\n      }\n      required_held_item: pokemonV2ItemByHeldItemId {\n        name\n      }\n      required_location: pokemon_v2_location {\n        name\n      }\n      evolution_item: pokemon_v2_item {\n        evolution_item_name: name\n      }\n      evolution_trigger: pokemon_v2_evolutiontrigger {\n        evolution_trigger_details: name\n      }\n      requires_overworld_rain: needs_overworld_rain\n      required_party_pokemon: pokemonV2PokemonspecyByPartySpeciesId {\n        required_party_pokemon_name: name\n      }\n      required_party_type: pokemonV2TypeByPartyTypeId {\n        required_party_type_details: name\n      }\n    }\n  }\n\n  fragment evolution_chain on pokemon_v2_pokemonspecies {\n    evolutions: pokemon_v2_evolutionchain {\n      pokemon: pokemon_v2_pokemonspecies(\n        where: {\n          pokemon_v2_pokemondexnumbers: {\n            pokemon_v2_pokedex: {\n              pokemon_v2_region: { id: { _eq: $generation_id } }\n              name: { _like: $dex_name_like }\n            }\n          }\n        }\n      ) {\n        ...pokedex\n      }\n    }\n  }\n"]))),_=(o(60),o(70)),j=(o(61),o(3)),x=function(e){var n=e.evolution_requirements;if(!n||0===n.length)return"No evolution requirements.";var o=n[0],t=o.evolution_item,r=o.evolution_trigger,i=o.min_affection,c=o.min_beauty,a=o.min_evolution_level,s=o.min_happiness,m=o.required_gender,l=o.required_held_item,u=o.required_known_move,d=o.required_location,p=o.required_party_pokemon,k=o.required_party_type,_=o.requires_overworld_rain,j="Evolution requirements: ";return t&&(j+=" Use a ".concat(t.evolution_item_name,".")),r&&(j+=" Requires a '".concat(r.evolution_trigger_details,"'.")),i&&(j+=" Requires a minimum affection of '".concat(i,"'.")),c&&(j+=" Requires a minimum beauty of '".concat(c,"'.")),a&&(j+=" Requires a minimum level of '".concat(a,"'.")),s&&(j+=" Requires a minimum happiness of '".concat(s,"'.")),m&&(j+=" Needs to be '".concat(m.name,"'.")),l&&(j+=" Needs to hold '".concat(l.name,"'.")),u&&(j+=" Needs to know '".concat(u.name,"'.")),d&&(j+=" Needs to be at '".concat(d.name,"'.")),p&&(j+=" Needs to have '".concat(p.required_party_pokemon_name,"' in your party.")),k&&(j+=" Needs to have a party of type '".concat(k.required_party_type_details,"'.")),k&&(j+=" Needs to have a party with '".concat(k.required_party_type_details,"'.")),_&&(j+=" Requires overworld rain."),j};function b(e){var n=e.pokedexEntry,o=e.close,t=e.lookupPokedex,r=n.pokemon_name,i=n.pokemon_details[0],c=i.pokedex_information,a=i.pokemon_pokedex_number;return console.log({pokedexEntry:n}),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"pop-up-card",children:[Object(j.jsx)("button",{className:"close",onClick:o,children:"\u274c"}),Object(j.jsx)("h1",{id:"pokemonName",children:r}),Object(j.jsxs)("h2",{id:"pokemonNumber",children:["#",a," in the ",c.pokedex_name]}),Object(j.jsx)("div",{className:"evolutions",children:n.evolutions.pokemon.map((function(e){return console.log({p:e,l:t(e.pokemon_details[0].pokemon_pokedex_number)}),e})).map(u).map((function(e){return console.log({p:e,l:t(e)}),t(e)})).sort((function(e,n){return u(e)-u(n)})).map((function(e,n,o){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:[Object(j.jsxs)("span",{children:["#",u(e)," - ",e.pokemon_name]}),n<o.length-1&&Object(j.jsx)("p",{children:Object(j.jsx)("span",{children:x(o[n+1])})})]})})}))})]})})}function v(e){var n=e.pokedex,o=e.trimmedPokedex,t=e.selectedPokemon,r=e.toggleSelectedPokemon;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ol",{className:"pokemonList",children:(null!==o&&void 0!==o?o:n).map((function(e){var o,i=u(e);return Object(j.jsx)(f,{key:i,pokedexEntry:e,checkbox:function(){return r(i)},checked:null!==(o=t.get(i))&&void 0!==o&&o,lookupPokedex:function(e){return n.find((function(n){return u(n)===e}))}})}))})})}function f(e){var n=e.pokedexEntry,o=e.checkbox,t=e.checked,r=e.lookupPokedex,i=u(n),c=Object(_.a)(!1),a=Object(l.a)(c,2),s=a[0],m=a[1];return Object(j.jsxs)("li",{className:"pokemonListItem",children:[s&&Object(j.jsx)(b,{pokedexEntry:n,close:m,lookupPokedex:r}),Object(j.jsxs)("button",{onClick:m,children:["#",i," - ",n.pokemon_name]}),Object(j.jsxs)("div",{className:"checkbox-container",children:[Object(j.jsx)("label",{className:"checkbox-label",htmlFor:"addToPokeDex-".concat(i),children:t?"Remove.":"Add."}),Object(j.jsx)("input",{className:"addToPokeDex visually-hidden",type:"checkbox",id:"addToPokeDex-".concat(i),onClick:o,checked:t}),Object(j.jsx)("div",{className:"checkbox-visual-representation"})]})]},i)}function g(e){var n=e.pokedex,o=e.pokedexSearchResults,t=e.selectedPokemon,r=e.toggleSelectedPokemon;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:Object(j.jsx)("span",{children:"Add missing Pok\xe9mon from your Pok\xe9Dex here."})}),Object(j.jsx)(v,{pokedex:n,trimmedPokedex:o,selectedPokemon:t,toggleSelectedPokemon:r})]})}function h(e){var n=e.pokedex,o=e.selectedPokemon,t=e.toggleSelectedPokemon;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(v,{pokedex:n,trimmedPokedex:n.filter((function(e){return o.get(u(e))})),selectedPokemon:o,toggleSelectedPokemon:t})})}var O=o(79);var y=o(34),S=function(e,n,o){var t=Object(r.useMemo)((function(){return o?o.raw?function(e){return e}:o.deserializer:JSON.parse}),[o]);if(!y.isBrowser)return[n,y.noop,y.noop];if(!e)throw new Error("useLocalStorage key may not be falsy");var i=Object(r.useRef)((function(e){try{var r=o?o.raw?String:o.serializer:JSON.stringify,i=localStorage.getItem(e);return null!==i?t(i):(n&&localStorage.setItem(e,r(n)),n)}catch(c){return n}})),c=Object(r.useState)((function(){return i.current(e)})),a=Object(l.a)(c,2),s=a[0],m=a[1];Object(r.useLayoutEffect)((function(){return m(i.current(e))}),[e]);var u=Object(r.useCallback)((function(n){try{var r,i="function"===typeof n?n(s):n;if("undefined"===typeof i)return;r=o?o.raw?"string"===typeof i?i:JSON.stringify(i):o.serializer?o.serializer(i):JSON.stringify(i):JSON.stringify(i),localStorage.setItem(e,r),m(t(r))}catch(c){}}),[t,e,o,s]),d=Object(r.useCallback)((function(){try{localStorage.removeItem(e),m(void 0)}catch(n){}}),[e,m]);return[s,u,d]};o(64);function q(){var e=4,n="original%",o=function(e){var n=e.generation_id,o=e.dex_name_like,t=Object(O.a)(k,{variables:{generation_id:n,dex_name_like:o}}),i=t.loading,c=t.error,a=t.data;return{pokedex:Object(r.useMemo)((function(){return i||c?[]:Array.from(a.pokemon).sort((function(e,n){return u(e)-u(n)}))}),[a,c,i]),loading:i,error:c}}({generation_id:e,dex_name_like:n}),t=o.pokedex,i=o.loading,c=o.error,a=function(e,n,o){var t=S("".concat(n,"-").concat(o),new Map(e.map((function(e){return[e.pokemon_details[0].pokemon_pokedex_number,!1]}))),{raw:!1,serializer:function(e){return JSON.stringify(Array.from(e))},deserializer:function(e){return new Map(JSON.parse(e))}}),i=Object(l.a)(t,2),c=i[0],a=i[1],s=Object(r.useMemo)((function(){return function(e){a((function(n){console.log({oldMap:n,pokemon_number:e});var o=!n.get(e),t=new Map(n);return t.set(e,o),t}))}}),[a]);return{selectedPokemon:null!==c&&void 0!==c?c:new Map,toggleSelectedPokemon:s}}(t,e,n),s=a.selectedPokemon,d=a.toggleSelectedPokemon,p=function(e){var n=Object(r.useState)(""),o=Object(l.a)(n,2),t=o[0],i=o[1],c=Object(r.useMemo)((function(){return function(e){var n=e.target.value;i(n)}}),[i]),a=Object(r.useMemo)((function(){return 0===t.length?e:e.filter((function(e){return e.pokemon_name.toLowerCase().includes(t.toLowerCase())}))}),[e,t]),s=Object(r.useState)(!1),m=Object(l.a)(s,2),u=m[0],d=m[1];return{SearchBar:Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{id:"pokemonSearch",children:[Object(j.jsx)("input",{onFocus:function(){return d(!0)},onChange:c,placeholder:"Search"}),Object(j.jsx)("button",{onClick:function(){return d(!1)},children:"\u274c"})]})}),displaySearchResults:u,pokedexSearchResults:a}}(t),_=p.SearchBar,x=p.displaySearchResults,b=p.pokedexSearchResults;if(c||i)return Object(j.jsxs)(j.Fragment,{children:[_,Object(j.jsxs)("div",{className:"pokemonListMessage",children:[Object(j.jsx)("span",{children:c&&"Something went wrong :("}),Object(j.jsx)("span",{children:i&&"Loading..."})]})]});if(x){var v={pokedex:t,pokedexSearchResults:b,selectedPokemon:s,toggleSelectedPokemon:d};return Object(j.jsxs)(j.Fragment,{children:[_,Object(j.jsx)(g,Object(m.a)({},v))]})}var f={pokedex:t,selectedPokemon:s,toggleSelectedPokemon:d};return Object(j.jsxs)(j.Fragment,{children:[_,Object(j.jsx)(h,Object(m.a)({},f))]})}var P=function(){return Object(j.jsx)("main",{id:"main",children:Object(j.jsx)(s.a,{children:Object(j.jsx)(q,{})})})},w=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,81)).then((function(n){var o=n.getCLS,t=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;o(e),t(e),r(e),i(e),c(e)}))},N=o(78),F=o(76),I=o(75),R=o(39),C=new N.a;Object(R.b)({cache:C,storage:new R.a(window.localStorage)}).then((function(){var e=new F.a({uri:"https://beta.pokeapi.co/graphql/v1beta",cache:C});a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(I.a,{client:e,children:Object(j.jsx)(P,{})})}),document.getElementById("root"))})),w()}},[[65,1,2]]]);
//# sourceMappingURL=main.f247afb0.chunk.js.map